<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			*{
				margin: 0;
				padding: 0;
				}
				a{
					text-decoration: none;
				}
			.login{
				width: 393.59px;
				height: 434px;
				background-color: thistle;
			
				margin: 100px auto;
				position: relative;
				box-sizing: border-box;
			}
			.login-a{
				width: 354px;
				height: 411px;
				background-color:thistle;
				margin: 11.5px auto ;
				padding-top:  30px; ;
				box-sizing: border-box;
			   
			}
			.login-b{
	
				margin: 0 0 30px;
				text-align: center;
			}
			.dl{
				font-size: 25px;
				color: #333333;
				font-weight: 600;
				padding-right: 20px;
			}
			.zc{
				font-size: 25px;
				color:#999;
				font-weight: 600;
				padding-left: 20px;
				
			}
			.phone{
				width: 294px;
				height: 25px;
				border: 0px;
				background-color: #f5f5f5;
				padding: 9px 10px;
			}
			.pw{
				width: 294px;
				height: 25px;
				border: 0px;
				background: #f5f5f5;
				padding: 9px 10px;
				margin: 20px auto;
			}
			.bc{
				box-sizing: border-box;
				position: relative;
			}
			.kj{
				font-size: 14px;
				color: #333333;
			}
			.kk{
			   position: absolute;
			   top: 6px;
			   right: 116px;
			}
			.jz{
				font-size: 12px;
				color: #666666;
				padding-left: 152px;
				padding-right: 5px;
				border-right: 1px solid #cccccc;
			}
			/* .s1{
				margin: 0 7px;
			} */
			.fg{
				
				font-size: 12px;
				color: #666666;
			  padding-right: 0px;
			 
			}
			.login-dl{
				width: 350px;
				height: 40px;
				border: 0px;
				background-color: #e62828;
				text-align: center;
				line-height: 40px;
				font-size: 16px;
				border-radius: 4px;
				font-weight: 700;
				color: white;
				padding: 17px auto;
				margin: 40px 0;
			}
			.wb{
				font-size: 12px;
				text-align: center;
			   
			}
			.wb .zb{
				padding: 0 20px;
			}
			.errinfo{
				position: absolute;
				font-size: 12px;
				color: red;
			  left: 21px;
			  bottom: 168px;
			  display: none;
			}
		</style>
		<script src="lib/axios.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/api.js" type="text/javascript" charset="utf-8"></script>
		<script src="lib/js.cookie.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>

		<form class="login">
			<div class="login-a">
				<div class="login-b"> 
					<a class="dl" href= "./login.html" >登陆</a>
					<a class="zc" href= "./logup.html" >注册</a>
				</div>
				<div>
					<input type="text" class="phone" placeholder="手机号/邮箱">
				</div>
				<div>
					<input type="password" class="pw" placeholder="密码">
				</div>
				<div class="bc">
					<a href="" class="kj">手机快捷登陆</a>
					
					<label for="" class="jz"><input type="checkbox" class="kk" >记住我</label>
					<a href="" class="fg">忘记密码</a>
				</div>
				<span class="errinfo">用户名及密码不能为空</span>
				<input type="submit" class="login-dl" value="登      陆">
					
				
				<div class="wb">
					<a href="">新浪微博</a>
					<a href="" class="zb">腾讯qq</a>
					<a href="">我买网</a>
				</div>
			</div>
		   
		</form>

		<script type="text/javascript">
			let ipts = document.querySelectorAll('input')
			ipts[2].onclick = function() {

// 				axios.post(regApi, {
// 					username: ipts[0].value,
// 					password: ipts[1].value
// 
// 
// 				}).then(res => {
// 					console.log(res)
// 				})

				axios.get(loginApi,{
					params:{
						username:ipts[0].value,
						password:ipts[1].value
						
					}
				}).then(res=>{
					console.log(res)
					
					if(res.data.code==1){
						
						Cookies.set('id',res.data.data.id,{expires:365})
						Cookies.set('token',res.data.data.token,{expires:365})
						Cookies.set('username',res.data.data.username,{expires:365})
						
						alert('登录成功')
						location.href= 'file:///D:/phpstudy/NZ-1906/wenJuxiangmu/src/pages/index.html'
					}
				})

			}
		</script>

	</body>
</html>
